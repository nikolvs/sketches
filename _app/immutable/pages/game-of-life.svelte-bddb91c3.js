import{S as u,i as d,s as g,e as G,c as I,a as P,d as w,b as h,g as q,K as L,n as f,L as N,w as O,x as v,y as b,z as S,r as D,p as x,C}from"../chunks/index-a8a211d8.js";import{_ as V}from"../chunks/preload-helper-7054b5b2.js";function z(n){let e,s,t;return{c(){e=G("div"),this.h()},l(r){e=I(r,"DIV",{style:!0,class:!0}),P(e).forEach(w),this.h()},h(){h(e,"style",n[0]),h(e,"class","m-0")},m(r,i){q(r,e,i),s||(t=L(n[1].call(null,e)),s=!0)},p(r,[i]){i&1&&h(e,"style",r[0])},i:f,o:f,d(r){r&&w(e),s=!1,t()}}}function F(n,e){return e.forEach(([s,t])=>n[s]=t),n}function H(n,e,s){let{target:t=void 0}=e,{sketch:r=void 0}=e,{parentDivStyle:i="display: block;"}=e,{debug:o=!1}=e,l;const m=N(),_={ref(){m("ref",t)},instance(){m("instance",l)}};function E(a){return s(2,t=a),{destroy(){s(2,t=void 0)}}}return O(async()=>{const a=await V(()=>import("../chunks/p5.min-21ab2ccd.js").then(function(c){return c.p}),[]),{default:j}=a,k=Object.entries(a).filter(([c,A])=>A instanceof Function&&c[0]!=="_"&&c!=="default");o&&console.log("available p5 native classes",k),l=new j(c=>(c=F(c,k),o&&console.log("p5 instance",c),window._p5Instance=c,r(c)),t),_.ref(),_.instance()}),n.$$set=a=>{"target"in a&&s(2,t=a.target),"sketch"in a&&s(3,r=a.sketch),"parentDivStyle"in a&&s(0,i=a.parentDivStyle),"debug"in a&&s(4,o=a.debug)},[i,E,t,r,o]}class K extends u{constructor(e){super(),d(this,e,H,z,g,{target:2,sketch:3,parentDivStyle:0,debug:4})}}function M(n){let e,s;return e=new K({props:{sketch:n[0]}}),{c(){v(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,r){S(e,t,r),s=!0},p:f,i(t){s||(D(e.$$.fragment,t),s=!0)},o(t){x(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function R(n,e,s){let{config:t}=e,{makeSketch:r}=e;const i=o=>{const l=r(o);o.setup=()=>{l.setup(t)},o.draw=()=>{l.draw(t)}};return n.$$set=o=>{"config"in o&&s(1,t=o.config),"makeSketch"in o&&s(2,r=o.makeSketch)},[i,t,r]}class T extends u{constructor(e){super(),d(this,e,R,M,g,{config:1,makeSketch:2})}}const y=(n,e)=>Array.from({length:n},()=>Array.from({length:e})),W=n=>({grid:null,cols:0,rows:0,chaos:20,resolution:20,colors:{alive:[0,50],dead:[217,67,77,50]},setup({canvasWidth:e,canvasHeight:s}){n.createCanvas(e,s),n.background(255),this.cols=n.width/this.resolution,this.rows=n.height/this.resolution,this.grid=y(this.cols,this.rows);for(let t=0;t<this.cols;t++)for(let r=0;r<this.rows;r++)this.grid[t][r]=n.floor(n.random(2))},draw(){const e=y(this.cols,this.rows);n.noStroke();for(let s=0;s<this.cols;s++)for(let t=0;t<this.rows;t++){n.fill(this.grid[s][t]?this.colors.alive:this.colors.dead),n.square(s*this.resolution-n.floor(n.random(this.chaos)),t*this.resolution-n.floor(n.random(this.chaos)),this.resolution);const r=this.countNeighbors(s,t),i=this.grid[s][t]===1;!i&&r===3?e[s][t]=1:i&&(r<2||r>3)?e[s][t]=0:e[s][t]=this.grid[s][t]}this.grid=e},countNeighbors(e,s){let t=0;for(let r=-1;r<2;r++)for(let i=-1;i<2;i++){const o=(e+r+this.cols)%this.cols,l=(s+i+this.rows)%this.rows;t+=this.grid[o][l]}return t-=this.grid[e][s],t}});function B(n){let e,s;return e=new T({props:{config:n[0],makeSketch:W}}),{c(){v(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,r){S(e,t,r),s=!0},p:f,i(t){s||(D(e.$$.fragment,t),s=!0)},o(t){x(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function J(n){return[{canvasWidth:1080,canvasHeight:1920}]}class Y extends u{constructor(e){super(),d(this,e,J,B,g,{})}}export{Y as default};
